!function(e){e.fn.serializeArrayAll=function(){var e=/\r?\n/g;return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).map(function(a,t){var n=jQuery(this).val();return null==n?null==n:"checkbox"==this.type&&0==this.checked?{name:this.name,value:this.checked?this.value:""}:jQuery.isArray(n)?jQuery.map(n,function(a,n){return{name:t.name,value:a.replace(e,"\r\n")}}):{name:t.name,value:n.replace(e,"\r\n")}}).get()},e(document).on("click",".single_add_to_cart_button:not(.disabled)",function(a){var t=e(this),n=t.closest("form.cart"),r=n.find('input:not([name="product_id"]), select, button, textarea').serializeArrayAll()||0;return e.each(r,function(e,a){"add-to-cart"==a.name&&(a.name="product_id",a.value=n.find("input[name=variation_id]").val()||t.val())}),a.preventDefault(),e(document.body).trigger("adding_to_cart",[t,r]),e.ajax({type:"POST",url:woocommerce_params.wc_ajax_url.toString().replace("%%endpoint%%","add_to_cart"),data:r,beforeSend:function(e){t.removeClass("added").addClass("loading")},complete:function(e){t.addClass("added").removeClass("loading")},success:function(a){a.error&a.product_url?window.location=a.product_url:e(document.body).trigger("added_to_cart",[a.fragments,a.cart_hash,t])}}),!1})}(jQuery);